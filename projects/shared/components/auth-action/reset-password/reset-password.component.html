<section class="content full" *ngIf="!result; else message" [formGroup]="form">
  <h3 class="mat-headline-5 thin full">Password Reset</h3>
  <div class="full">
  <mat-form-field appearance="fill" color="primary" style="width: 15em">
    <mat-label>New Password</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="newPassword" minlength="8" required>
    <mat-icon class="check" (click)="hide = !hide" matIconSuffix color="primary">
      {{hide ? 'visibility_off' : 'visibility'}}
    </mat-icon>
    <mat-error *ngIf="form.get('newPassword')?.hasError('minlength')">Min 6 characters</mat-error>
    <mat-error *ngIf="form.get('newPassword')?.hasError('required')">This Field Can't Be Empty!</mat-error>
  </mat-form-field>
  </div>
  <div class="full">
  <mat-form-field appearance="fill" color="primary" style="width: 15em; margin-top: var(--space-md)">
    <mat-label>Confirm</mat-label>
    <input matInput [type]="hide ? 'password' : 'text'" formControlName="newPasswordConfirm" minlength="8" required>
    <mat-icon class="check" (click)="hide = !hide" matIconSuffix color="primary">
      {{hide ? 'visibility_off' : 'visibility'}}
    </mat-icon>
    <mat-error *ngIf="form.get('newPasswordConfirm')?.hasError('minLength')">Min 6 characters</mat-error>
    <mat-error *ngIf="form.get('newPasswordConfirm')?.hasError('required')">This Field Can't Be Empty!</mat-error>
  </mat-form-field>
  </div>
  <button mat-flat-button color="primary" (click)="resetPassword()">
    <span>Reset</span>
    <mat-icon>refresh</mat-icon>
  </button>
</section>

<ng-template #message>
  <section class="content">
    <h3 class="mat-headline-5 thin full">{{result.heading}}</h3>
    <p class="mat-body-1 full">{{result.subheading}}</p>
    <div class="full">
      <button color="primary" mat-flat-button *ngFor="let button of result.actions" (click)="action(button.label)">
        <span>{{button.label}}</span>
        <mat-icon>{{button.icon}}</mat-icon>
      </button>
    </div>
  </section>
</ng-template>
